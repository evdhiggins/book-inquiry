<div class="search-page">
	<div class="searchbar-container">
		<SearchBar />
	</div>
	<!-- if loading -->
	{#if $loading === true}
	<Spinner />
	<!-- if firstLoad -->
	{:elseif $firstLoad === true}
	<SearchWelcome />
	<!-- if error -->
	{:elseif $error === true}
	<SearchError />
	<!-- otherwise -->
	{:else}
	<div class="results-container"
	     transition:fade>
		{#each $items as item}
		<SearchItem {item} /> {:else}
		<SearchNoResults /> {/each}
	</div>
	<!-- if Items -->
	{#if $items.length > 0}
	<div class="page-controls">
		<SearchPagination />
	</div>
	{/if}
	<!-- end ifItems -->
	{/if}
	<!-- end ifNotLoading -->
</div>

<script>
  import { fade } from "svelte-transitions";
  export default {
    transitions: {
      fade
    },
    components: {
      SearchBar: "../components/SearchBar.html",
      SearchNoResults: "../components/SearchNoResults.html",
      SearchError: "../components/SearchError.html",
      SearchItem: "../components/SearchItem.html",
      SearchPagination: "../components/SearchPagination.html",
      SearchWelcome: "../components/SearchWelcome.html",
      Spinner: "../components/Spinner.html"
    }
  };
</script>

<style>
  .search-page {
    width: 60%;
    margin-left: 20%;
    min-height: 80vh;
    display: flex;
    flex-direction: column;
  }

  .searchbar-container {
    display: flex;
    justify-content: center;
    width: 100%;
  }

  .results-container {
    display: flex;
    flex-direction: column;
    margin-bottom: 4vh;
  }

  .page-controls {
    display: flex;
    justify-content: center;
    margin-bottom: 4vh;
    margin-top: auto;
  }

  @media (max-width: 1000px) {
    .search-page {
      width: 80%;
      margin-left: 10%;
    }
  }

  @media (max-width: 600px) {
    .search-page {
      width: 100%;
      margin-left: 0%;
    }
  }
</style>